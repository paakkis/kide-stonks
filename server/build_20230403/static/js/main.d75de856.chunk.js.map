{"version":3,"sources":["components/Navbar.js","services/fetch.js","components/CityMenu.js","components/EventMenu.js","components/TokenInput.js","components/BuyButton.js","services/login.js","components/LoginForm.js","components/Notification.js","components/EventInfo.js","App.js","index.js"],"names":["Navbar","setUser","setError","setMessage","user","setOpenErrorNotification","setOpenMessageNotification","AppBar","elevation","sx","backgroundColor","Toolbar","background","Typography","variant","noWrap","component","flexGrow","color","Button","position","fontWeight","size","onClick","window","localStorage","clear","location","reload","fetch","setToken","exception","setTimeout","handleLogout","baseUrl","fetchEvents","city","axios","get","response","data","fetchEvent","id","fetchTicket","kideToken","productVariantMaximumReservableQuantity","options","method","body","json","headers","post","console","log","newToken","CityMenu","setCity","setEvents","events","getEvents","model","Box","m","width","noValidate","autoComplete","TextField","select","label","value","onChange","event","target","borderColor","border","map","MenuItem","Object","values","EventMenu","setEvent","setEventInfo","className","margin","sort","a","b","timeUntilSalesStart","filter","productType","name","then","whiteSpace","pl","availability","Chip","TokenInput","getItem","placeholder","setItem","BuyButton","token","useState","loop","setLoop","firstStart","useRef","tick","useEffect","current","setInterval","buyAllTickets","clearInterval","product","variants","length","inventoryId","catch","error","status","minWidth","minHeight","ToggleButton","selected","boxSizing","login","credentials","Copyright","props","align","Link","href","Date","getFullYear","theme","createTheme","typography","allVariants","fontFamily","textTransform","fontSize","h5","root","LoginForm","username","setUsername","password","setPassword","handleLogin","preventDefault","JSON","stringify","ThemeProvider","Container","maxWidth","display","flexDirection","justifyContent","alignItems","CssBaseline","marginTop","onSubmit","mt","required","fullWidth","autoFocus","type","mb","Notification","message","openMessageNotification","openErrorNotification","handleErrorClose","reason","handleMessageClose","Stack","spacing","Snackbar","open","autoHideDuration","onClose","Alert","severity","EventInfo","date","dateActualFrom","Card","boxShadow","CardMedia","height","image","mediaFilename","alt","objectFit","CardContent","textAlign","gap","padding","paddingBottom","gutterBottom","Divider","alignSelf","paddingTop","toLocaleString","place","streetAddress","company","maxHeight","pricePerItem","seconds","Number","d","Math","floor","h","s","timeUntilSales","CardActions","endIcon","App","eventInfo","loggedUserJSON","parse","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.d75de856.chunk.js","sourcesContent":["import AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nconst Navbar = ({setUser, setMessage, setError, user, setOpenMessageNotification, setOpenErrorNotification }) => {     \r\n    \r\n    const handleLogout = () => {\r\n        try {\r\n          window.localStorage.clear()\r\n          window.location.reload(true)\r\n          fetch.setToken('')\r\n          setUser('')\r\n        } catch (exception) {\r\n        setOpenErrorNotification(true)\r\n          setError('Logged out.')\r\n          setTimeout(() => {\r\n            setError(null)\r\n          }, 6000)\r\n        }\r\n      }\r\n      return (\r\n        <AppBar elevation={0} sx={{backgroundColor:'white'}}>\r\n            <Toolbar sx={{background: '#212121'}}>\r\n                <Typography  \r\n                    variant=\"h5\"\r\n                    noWrap\r\n                    component=\"div\"\r\n                    sx={{ flexGrow: 1, color: 'white' }}\r\n                >\r\n                    KideStonks\r\n                </Typography>\r\n                {user === null ? \r\n                    null :\r\n                    <Button sx={{position: 'absolute', color: 'white', fontWeight: 700, \":hover\": {backgroundColor: '#2a0062', color: 'white'}}} size=\"small\" onClick={() => handleLogout()} variant=\r\n                    'text'>LOGOUT</Button>\r\n                }\r\n            </Toolbar>\r\n            \r\n        </AppBar>\r\n    )\r\n  }\r\n  export default Navbar","import axios from 'axios';\r\nimport { useState, useEffect } from 'react'\r\n\r\nconst baseUrl = 'https://api.kide.app/api'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `Bearer ${newToken}`\r\n}\r\n\r\nconst fetchEvents = async (city) => {\r\n    const response = await axios.get(`${baseUrl}/products?city=${city}`)\r\n    return response.data\r\n}\r\n\r\nconst fetchEvent = async (id) => {\r\n    const response = await axios.get(`${baseUrl}/products/${id}`)\r\n    return response.data\r\n}\r\n\r\nconst fetchTicket = async (id, kideToken, productVariantMaximumReservableQuantity) => {\r\n\r\n  var data = {\"toCreate\":[{\"inventoryId\":id,\"quantity\":productVariantMaximumReservableQuantity,\"productVariantUserForm\":null}]}\r\n\r\n  var options = {\r\n  method: 'POST',\r\n  body: data,\r\n  json: true,\r\n  headers: {\r\n      'Authorization': `Bearer ${kideToken}`\r\n    }\r\n  }\r\n  const response = await axios.post(`${baseUrl}/reservations`, data, options, {})\r\n  console.log(response.data)\r\n  return response.data\r\n}\r\n\r\nexport default { fetchEvents, fetchEvent, fetchTicket, setToken }","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport fetch from '../services/fetch';\r\n\r\nconst CityMenu = ({ city, setCity, events, setEvents }) => {\r\n\r\n  const cities = ['Joensuu', 'Kuopio', 'Pori', 'Tampere', 'Helsinki']\r\n\r\n  const handleChange = (event) => {\r\n    setCity(event.target.value);\r\n  };\r\n  \r\n  const getEvents = async (city) => {\r\n      const response = await fetch.fetchEvents(city)\r\n      setEvents(response.model)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { m: 0, width: '25ch' },\r\n      }}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n    >\r\n      <div>\r\n        <TextField\r\n          id=\"outlined-select-currency\"\r\n          select\r\n          label=\"Kaupunki\"\r\n          color='secondary'\r\n          value={city}\r\n          onChange={handleChange}\r\n          sx={\r\n              {                        \r\n                '& .MuiOutlinedInput-root': {  \r\n                    '& fieldset': {           \r\n                        borderColor: '#2a0062',\r\n                        border: '2px solid #2a0062'   \r\n                    },\r\n                    '&:hover fieldset': {\r\n                        borderColor: '#2a0062',\r\n                        border: '3px solid #2a0062' \r\n                    },\r\n                    '&.Mui-focused fieldset': { \r\n                        borderColor: '#2a0062',\r\n                        border: '3px solid #2a0062' \r\n                    },\r\n                    \"&.Mui-focused\": {\r\n                      color: \"white\"\r\n                    },\r\n                    \"&.Mui-root\": {\r\n                      color: 'white'\r\n                    } \r\n                }\r\n              }\r\n            }\r\n        >\r\n          {cities.map((city) => (\r\n            <MenuItem key={city} value={city} onClick={() => getEvents(city)} >\r\n              {Object.values(city)}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default CityMenu","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { useState } from 'react'\r\nimport fetch from '../services/fetch';\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Divider from '@mui/material/Divider';\r\n\r\nconst EventMenu = ({ event, setEvent, setEventInfo, events }) => {\r\n\r\n  const handleChange = (event) => {\r\n    setEvent(event.target.value);\r\n  };\r\n\r\n  const getEventInfo = (id) => {\r\n    fetch.fetchEvent(id).then(event => {\r\n        setEventInfo(event.model)\r\n    }) \r\n  }\r\n\r\n  return (\r\n    <div className='event-menu'>\r\n      <Box\r\n        component=\"form\"\r\n        sx={{\r\n          '& .MuiTextField-root': { width: '25ch', margin: \"10px 0px 10px auto\" },\r\n        }}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n      >\r\n        <div>\r\n          <TextField\r\n            id=\"outlined-select-currency\"\r\n            select\r\n            label=\"Tapahtuma\"\r\n            color='secondary'\r\n            value={event}\r\n            onChange={handleChange}\r\n            sx={\r\n              {                         \r\n                '& .MuiOutlinedInput-root': {  \r\n                  '& fieldset': {           \r\n                      borderColor: '#2a0062',\r\n                      border: '2px solid #2a0062'   \r\n                  },\r\n                  '&:hover fieldset': {\r\n                      borderColor: '#2a0062',\r\n                      border: '3px solid #2a0062' \r\n                  },\r\n                  '&.Mui-focused fieldset': { \r\n                      borderColor: '#2a0062',\r\n                      border: '3px solid #2a0062' \r\n                  },\r\n                  '&.MuiInputLabel-root': {\r\n                    color: 'white'\r\n                  },\r\n                  \"&.MuiFormLabel-root\": {\r\n                    color: 'white'\r\n                  } \r\n              },\r\n              } \r\n            }\r\n          >\r\n            {events\r\n              .sort((a, b) => b.timeUntilSalesStart - a.timeUntilSalesStart)\r\n              .filter(event => event.productType === 1)\r\n              .map((event) => (\r\n              <MenuItem key={event.name} \r\n              \r\n                        value={event.name} \r\n                        onClick={() => getEventInfo(event.id)}\r\n                        sx={{\r\n                            width: 500,\r\n                            whiteSpace: \"normal\",\r\n                            }}\r\n                        >\r\n                {event.name}\r\n                <Box sx={{margin: \"0px 0px 0px auto\", pl: 2}}>\r\n                  {event.availability !== 0 ?\r\n                    <Chip label={`${event.availability} kpl`} color=\"success\" variant=\"outlined\" />\r\n                    :\r\n                    <Chip label={`${event.availability} kpl`} color=\"error\" variant=\"outlined\" />\r\n                  }\r\n                  \r\n                </Box>\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default EventMenu","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nconst TokenInput = ({ setToken }) => {\r\n  const handleChange = (event) => {\r\n    setToken(event.target.value);\r\n    window.localStorage.setItem('kideToken', event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { width: '25ch', color: 'white' },     \r\n          '& .MuiOutlinedInput-root': {  \r\n              '& fieldset': {           \r\n                  borderColor: '#2a0062',   \r\n              },\r\n              '&:hover fieldset': {\r\n                  borderColor: '#2a0062',\r\n              },\r\n              '&.Mui-focused fieldset': { \r\n                  borderColor: '#2a0062',\r\n              },\r\n          },\r\n        } \r\n      }\r\n      noValidate\r\n      autoComplete=\"off\"\r\n    >\r\n      <div>\r\n        <TextField\r\n          value={localStorage.getItem('kideToken')}\r\n          id=\"outlined-helperText\"\r\n          placeholder='Syötä'\r\n          label=\"Token\"\r\n          color='secondary'\r\n          sx={{                         \r\n            '& .MuiOutlinedInput-root': {  \r\n              '& fieldset': {           \r\n                  borderColor: '#2a0062',\r\n                  border: '2px solid #2a0062'   \r\n              },\r\n              '&:hover fieldset': {\r\n                  borderColor: '#2a0062',\r\n                  border: '3px solid #2a0062' \r\n              },\r\n              '&.Mui-focused fieldset': { \r\n                  borderColor: '#2a0062',\r\n                  border: '3px solid #2a0062' \r\n              },\r\n              '&.MuiFormLabel-root-MuiInputLabel-root':{\r\n                color: 'white'\r\n              },\r\n              \"&.Mui-focused\": {\r\n                color: \"white\"\r\n              },\r\n              \"&.Mui-root\": {\r\n                color: 'white'\r\n              } \r\n\r\n          }\r\n          } }\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default TokenInput\r\n","import * as React from 'react';\r\nimport Button from '@mui/lab/LoadingButton';\r\nimport { Box } from '@mui/material/';\r\nimport fetch from '../services/fetch';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\n\r\nconst BuyButton = ({ event, token, setMessage, setError, setOpenErrorNotification, setOpenMessageNotification, setEventInfo }) => {\r\n\r\n  const [loop, setLoop] = useState(false)\r\n  const firstStart = useRef(true);\r\n  const tick = useRef();\r\n\r\n  useEffect(() => {\r\n    if (firstStart.current) {\r\n      firstStart.current = !firstStart.current;\r\n      return;\r\n    }\r\n    else if (loop) {\r\n      tick.current = setInterval(buyAllTickets, 500);\r\n    } else {\r\n      clearInterval(tick.current);\r\n    }\r\n    return () => clearInterval(tick.current);\r\n  }, [loop]);\r\n\r\n  const buyAllTickets = () => {\r\n    if (!token){\r\n      setOpenErrorNotification(true)\r\n      setError(`Token puuttuu.`)\r\n      setTimeout(() => {\r\n        setError('')\r\n      }, 6000)\r\n    }\r\n    else {\r\n      try {\r\n        fetch.fetchEvent(event.product.id).then(event => {\r\n          setEventInfo(event.model)\r\n        }) \r\n        if (event.variants.length === 0){\r\n          setOpenErrorNotification(true)\r\n          setError(`Myynti ei ole vielä alkanut.`)\r\n          setTimeout(() => {\r\n            setError('')\r\n          }, 6000)\r\n        }\r\n      event.variants.map(event => (\r\n      fetch.fetchTicket(event.inventoryId, token, event.productVariantMaximumReservableQuantity)\r\n        .then((response) => {\r\n            setOpenMessageNotification(true)\r\n            setMessage(`Napattiin '${event.name}' lippu.`)\r\n            setTimeout(() => {\r\n              setMessage('')\r\n              setOpenMessageNotification(false)\r\n            }, 6000)\r\n        })\r\n        .catch(error => {\r\n              if (error.response.status === 401){\r\n                setOpenErrorNotification(true)\r\n                setError(`Token väärin tai puutteellinen. Anna token ilman Bearer-liitettä.`)\r\n                setTimeout(() => {\r\n                  setError('')\r\n                }, 6000)\r\n              }\r\n              if (error.response.status === 400){\r\n                setOpenErrorNotification(true)\r\n                setError(`Lippua '${event.name}' ei saatavilla.`)\r\n                setTimeout(() => {\r\n                  setError('')\r\n                  setOpenErrorNotification(false)\r\n                }, 6000)\r\n                }\r\n            })\r\n          ))\r\n        } catch(error){\r\n          setOpenErrorNotification(true)\r\n          setError(`Odottamaton virhe. ${error}`)\r\n          setTimeout(() => {\r\n            setError('')\r\n          }, 6000)\r\n        }\r\n      }\r\n    }\r\n\r\n  const toggleStartBuy = () => {\r\n    setLoop(!loop);\r\n    if (loop){\r\n      setOpenMessageNotification(true)\r\n      setMessage(`Lopetetaan looppaus...`)\r\n      setTimeout(() => {\r\n        setMessage('')\r\n        setOpenMessageNotification(false)\r\n      }, 6000)\r\n    }\r\n    if (!loop){\r\n        setOpenMessageNotification(true)\r\n        setMessage(`Yritetään ostaa lippua joka 1s välein...`)\r\n        setTimeout(() => {\r\n          setMessage('')\r\n          setOpenMessageNotification(false)\r\n        }, 6000)\r\n      }\r\n  };\r\n\r\n  const handleClick = () => {\r\n      buyAllTickets()\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box sx={{ '& > button': { m: 3 } }}>\r\n        <Button\r\n          onClick={() => handleClick()}\r\n          variant=\"contained\"\r\n          size='medium'\r\n          sx={{color: \"white\", backgroundColor: '#2a0062', minWidth: '6rem', minHeight: '3rem', ':hover': {\r\n            background: '#2a0050'\r\n          }}}\r\n        >\r\n          OSTA\r\n        </Button>\r\n        <ToggleButton\r\n          value=\"check\"\r\n          size='medium'\r\n          selected={loop}\r\n          color='standard'\r\n          onClick={toggleStartBuy} \r\n          onChange={() => {\r\n            setLoop(!loop);\r\n          }}\r\n          sx={{minWidth: '6rem', minHeight: '2rem', color: 'white', border: '1x solid #2a0062', boxSizing: 'border-box'}}\r\n        >\r\n        {loop ? 'LOPETA' : 'LOOP'}\r\n        </ToggleButton>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default BuyButton","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import * as React from 'react';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport login from '../services/login'\r\nimport fetch from '../services/fetch';\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'KideStonks is behind login to prevent mass abuse :D. Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://github.com/paakkis\">\r\n        paakkis\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme({\r\n  typography: {\r\n    allVariants: {\r\n      fontFamily: 'Roboto Mono',\r\n      textTransform: 'none',\r\n      fontSize: 16,\r\n      \r\n    },\r\n    h5: {\r\n      color: 'white'\r\n    },\r\n  },\r\n  root: {\r\n    \"&. MuiFormLabel-root\": {\r\n      color: \"white\",\r\n      background: '#212121'\r\n    }\r\n  }\r\n});\r\n\r\nconst LoginForm = ({ setMessage, setError, setUser, setOpenMessageNotification, setOpenErrorNotification }) =>  {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const handleLogin = async event => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await login.login({\r\n        username, password,\r\n      })\r\n      window.localStorage.setItem('loggedStonkuser', JSON.stringify(user))\r\n      fetch.setToken(user.token)\r\n      setUser(user)\r\n      console.log(user)\r\n      setUsername('')\r\n      setPassword('')\r\n      setOpenMessageNotification(true)\r\n      setMessage(`Logged in as ${user.name}`)\r\n      setTimeout(() => {\r\n        setOpenMessageNotification(false)\r\n        setMessage(null)\r\n      }, 6000)\r\n    } catch (exception) {\r\n      setOpenErrorNotification(true)\r\n      setError('Wrong username or password.')\r\n      setTimeout(() => {\r\n        setOpenErrorNotification(false)\r\n        setError(null)\r\n      }, 6000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container component=\"main\" maxWidth=\"xs\" sx={{display: 'flex', flexDirection: 'column', justifyContent: 'center', margin: 'auto !important', alignItems: 'center'}}>\r\n        <CssBaseline />\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center'\r\n          }}\r\n        >\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <Box component=\"form\" onSubmit={handleLogin} noValidate sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              autoFocus\r\n              value={username}\r\n              onChange={({ target }) => setUsername(target.value)}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={({ target }) => setPassword(target.value)}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n        <Copyright sx={{ mt: 8, mb: 4 }} />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default LoginForm","import * as React from 'react';\r\nimport Stack from '@mui/material/Stack';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport Alert from '@mui/material/Alert';\r\n\r\nconst Notification = ({ message, error, openMessageNotification, openErrorNotification, setOpenMessageNotification, setOpenErrorNotification}) => {\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenErrorNotification(false);\r\n  };\r\n  const handleMessageClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenMessageNotification(false);\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={2} sx={{ width: '100%' }}>\r\n      <Snackbar open={openErrorNotification} autoHideDuration={6000} onClose={handleErrorClose}>\r\n        {(error &&\r\n            <Alert onClose={handleErrorClose} severity=\"error\" sx={{ width: '100%' }}>\r\n                {error}\r\n            </Alert>\r\n        )}\r\n      </Snackbar>\r\n      <Snackbar open={openMessageNotification} autoHideDuration={6000} onClose={handleMessageClose}>\r\n        {(message &&\r\n            <Alert onClose={handleMessageClose} severity=\"success\" sx={{ width: '100%' }}>\r\n                {message}\r\n            </Alert>\r\n        )}\r\n      </Snackbar>\r\n    </Stack>\r\n  );\r\n}\r\n\r\nexport default Notification","import * as React from 'react';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Chip from '@mui/material/Chip';\r\nimport { Button, CardActions, Divider } from '@mui/material';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport Box from '@mui/material/Box';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\r\n\r\nconst EventInfo = ({ event }) => {\r\n\r\n  function timeUntilSales(seconds) {\r\n      seconds = Number(seconds);\r\n      var d = Math.floor(seconds / (3600*24));\r\n      var h = Math.floor(seconds % (3600*24) / 3600);\r\n      var m = Math.floor(seconds % 3600 / 60);\r\n      var s = Math.floor(seconds % 60);\r\n      \r\n      var dDisplay = d > 0 ? d + (d === 1 ? \" päivä, \" : \" päivän, \") : \"\";\r\n      var hDisplay = h > 0 ? h + (h === 1 ? \" tunnin, \" : \" tunnin, \") : \"\";\r\n      var mDisplay = m > 0 ? m + (m === 1 ? \" minuutin, \" : \" minuutin, \") : \"\";\r\n      var sDisplay = s > 0 ? s + (s === 1 ? \" sekunnin\" : \" sekunnin\") : \"\";\r\n      return dDisplay + hDisplay + mDisplay + sDisplay;\r\n  }\r\n    \r\n  var date = new Date(event.product.dateActualFrom)\r\n\r\n  return (\r\n      <Card sx={{ maxWidth: 400, margin: 'auto', marginTop: '20px', background: '#262828', boxShadow: 'rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px'}}>\r\n          <CardMedia \r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={`https://portalvhdsp62n0yt356llm.blob.core.windows.net/bailataan-mediaitems/${event.product.mediaFilename}`}\r\n            alt=\"Tapahtuman kuva\"\r\n            sx={{objectFit: 'fill'}}\r\n          />\r\n          <CardContent sx={{textAlign: 'left', display: 'flex', flexDirection: 'column', gap: '.5rem', padding: 3, paddingBottom: 0}}>\r\n            <Typography gutterBottom variant=\"h2\" component=\"div\" sx={{color: '#efefef', textAlign: 'center'}}>\r\n              {event.product.name}\r\n            </Typography>\r\n            <Divider sx={{border: '2px solid #2a0062', width: '100%', alignSelf: 'center'}}/>\r\n            <Typography component=\"div\" sx={{color: '#efefef', paddingTop: 2}}>\r\n              Aika: {date.toLocaleString()}\r\n            </Typography>\r\n            <Typography component=\"div\" sx={{color: '#efefef'}}>\r\n              Osoite: {event.product.place}, {event.product.streetAddress}\r\n            </Typography>\r\n            <Typography component=\"div\" sx={{color: '#efefef'}}>\r\n              Järjestäjä: {event.company.name}\r\n            </Typography>\r\n          </CardContent>\r\n          <CardContent sx={{textAlign: 'left', display: 'flex', flexDirection: 'column', gap: '.5rem', padding: 3}}>\r\n            <Typography gutterBottom variant=\"h2\" sx={{color: '#efefef', textAlign: 'center'}}>\r\n                LIPPUTYYPIT\r\n            </Typography>\r\n            <Divider sx={{border: '2px solid #2a0062', width: '100%', alignSelf: 'center'}}/>\r\n            {event.product.timeUntilSalesStart === 0 ?\r\n                event.variants.map(event => (\r\n                    <Card sx={{ width: '100%', maxHeight: 100, margin: 'auto', marginTop: '10px', textAlign: 'left', background: '#262828', padding: 1}} >\r\n                        <Typography gutterBottom variant=\"h7\" component=\"div\" sx={{textAlign: 'left', whiteSpace: \"normal\", margin: '7px 7px 7px 7px', fontWeight: 500, color: 'white'}}>\r\n                            {event.name}\r\n                        </Typography>\r\n                        <Box sx={{textAlign: 'left', whiteSpace: \"normal\", margin: '7px 7px 7px 7px'}}>\r\n                          {event.availability !== 0 ?\r\n                            <Chip sx={{margin: '0px 7px 0px 0px'}} label={`${event.availability} %`} color=\"success\" variant=\"outlined\" size='small'/>\r\n                            :\r\n                            <Chip sx={{margin: '0px 7px 0px 0px'}} label={`${event.availability} %`} color=\"error\" variant=\"outlined\" size='small'/>\r\n                          }\r\n                            \r\n                            <Chip label={`${(event.pricePerItem) / 100} €`} color='warning' variant=\"outlined\" size='small' />\r\n                        </Box>\r\n                    </Card>\r\n                ))\r\n                :\r\n                <Card sx={{ maxWidth: 380, maxHeight: 100, margin: 'auto', marginTop: '10px', textAlign: 'left', background: '#262828', padding: 2}}>\r\n                    <Typography gutterBottom variant=\"h7\" component=\"div\" sx={{textAlign: 'left', whiteSpace: \"normal\", margin: '7px 7px 7px 7px', fontWeight: 500, color: '#efefef'}}>\r\n                        Myynti alkaa {timeUntilSales(event.product.timeUntilSalesStart)} kuluttua.\r\n                    </Typography>\r\n                </Card>\r\n            }\r\n          </CardContent>\r\n        <CardActions sx={{textAlign: 'left', display: 'flex', flexDirection: 'column', gap: '.5rem', padding: 2}}>\r\n          <Button size=\"small\" sx={{color:'white', marginTop:'10px'}} endIcon={<ArrowForwardIcon />} href={`https://kide.app/events/${event.product.id}`}>\r\n            TAPAHTUMAN SIVULLE\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n  );\r\n}\r\n\r\nexport default EventInfo","import './App.css';\nimport { useState, useEffect } from 'react'\nimport Navbar from './components/Navbar';\nimport CityMenu from './components/CityMenu';\nimport EventMenu from './components/EventMenu';\nimport TokenInput from './components/TokenInput';\nimport fetch from './services/fetch';\nimport BuyButton from './components/BuyButton';\nimport Card from '@mui/material/Card';\nimport LoginForm from './components/LoginForm';\nimport Notification from './components/Notification';\nimport EventInfo from './components/EventInfo';\nimport { ThemeProvider, createTheme } from '@mui/material';\n\nconst App = () => {\n\n  const [city, setCity] = useState('')\n  const [event, setEvent] = useState('')\n  const [token, setToken] = useState('')\n  const [eventInfo, setEventInfo] = useState(null)\n  const [events, setEvents] = useState([])\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n  const [user, setUser] = useState(null)\n  const [openErrorNotification, setOpenErrorNotification] = useState(false)\n  const [openMessageNotification, setOpenMessageNotification] = useState(false)\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedStonkuser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      fetch.setToken(user.token)\n    }\n    setToken(localStorage.getItem('kideToken'))\n  }, [])\n\n  if (user === null){\n    return (\n      <LoginForm \n        setMessage={setMessage} \n        setError={setError} \n        setOpenMessageNotification={setOpenMessageNotification} \n        setOpenErrorNotification={setOpenErrorNotification}\n        setUser={setUser}\n      />\n    )\n  }\n\n  const theme = createTheme({\n    typography: {\n      allVariants: {\n        fontFamily: 'Roboto Mono',\n        textTransform: 'none',\n        fontSize: 16,\n        \n      },\n      h5: {\n        color: 'white'\n      },\n    },\n    root: {\n      \"&. MuiFormLabel-root\": {\n        color: \"white\"\n      }\n    }\n  });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"App\">\n        <Notification message={message} \n                      error={error} \n                      openErrorNotification={openErrorNotification} \n                      setOpenErrorNotification={setOpenErrorNotification} \n                      openMessageNotification={openMessageNotification} \n                      setOpenMessageNotification={setOpenMessageNotification} \n        />\n        <Navbar setMessage={setMessage} \n                setError={setError} \n                setUser={setUser}\n                setOpenMessageNotification={setOpenMessageNotification} \n                setOpenErrorNotification={setOpenErrorNotification}\n                user={user}\n        />\n        <Card sx={{ width: 400, minHeight: 400, margin: 'auto', boxShadow: 'rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px', background: '#262828', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\n              <CityMenu setCity={setCity} \n                        city={city} \n                        setEvents={setEvents}\n              />\n              <EventMenu setEvent={setEvent} \n                        events={events} \n                        event={event} \n                        setEventInfo={setEventInfo}\n              />\n              <TokenInput setToken={setToken}/>\n              <BuyButton event={eventInfo} \n                        setMessage={setMessage} \n                        setError={setError} \n                        setOpenMessageNotification={setOpenMessageNotification} \n                        setOpenErrorNotification={setOpenErrorNotification}\n                        token={token}\n                        setEventInfo={setEventInfo}\n              />\n        </Card>\n        {eventInfo  === null ? \n            <></>\n            :\n            <EventInfo event={eventInfo}/>\n        }\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}