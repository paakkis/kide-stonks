{"version":3,"sources":["components/Navbar.js","services/fetch.js","components/CityMenu.js","components/EventMenu.js","components/TokenInput.js","components/BuyButton.js","services/login.js","components/LoginForm.js","components/Notification.js","components/EventInfo.js","App.js","index.js"],"names":["Navbar","setUser","setError","setMessage","user","setOpenErrorNotification","setOpenMessageNotification","AppBar","elevation","sx","backgroundColor","Toolbar","Typography","variant","noWrap","component","flexGrow","color","Button","position","size","onClick","window","localStorage","clear","location","reload","fetch","setToken","exception","setTimeout","handleLogout","baseUrl","fetchEvents","city","axios","get","response","data","fetchEvent","id","fetchTicket","kideToken","productVariantMaximumReservableQuantity","options","method","body","json","headers","post","console","log","newToken","CityMenu","setCity","setEvents","events","getEvents","model","Box","m","margin","width","noValidate","autoComplete","TextField","select","label","value","onChange","event","target","borderColor","map","MenuItem","Object","values","EventMenu","setEvent","setEventInfo","className","sort","a","b","timeUntilSalesStart","filter","productType","name","then","whiteSpace","availability","Chip","TokenInput","placeholder","BuyButton","token","useState","loop","setLoop","firstStart","useRef","tick","useEffect","current","setInterval","buyAllTickets","clearInterval","variants","inventoryId","catch","error","status","length","ToggleButton","selected","login","credentials","Copyright","props","align","Link","href","Date","getFullYear","theme","createTheme","LoginForm","username","setUsername","password","setPassword","handleLogin","preventDefault","setItem","JSON","stringify","ThemeProvider","Container","maxWidth","CssBaseline","marginTop","display","flexDirection","alignItems","Avatar","bgcolor","onSubmit","mt","required","fullWidth","autoFocus","type","mb","Notification","message","openMessageNotification","openErrorNotification","handleErrorClose","reason","handleMessageClose","Stack","spacing","Snackbar","open","autoHideDuration","onClose","Alert","severity","EventInfo","secs","date","product","dateActualFrom","Card","outline","CardMedia","height","image","mediaFilename","alt","CardContent","gutterBottom","company","fontSize","marginRight","toLocaleString","place","streetAddress","maxHeight","textAlign","fontWeight","pricePerItem","toISOString","slice","CardActions","endIcon","App","eventInfo","loggedUserJSON","getItem","parse","minHeight","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"gRAwCiBA,EApCF,SAAH,GAAsG,IAAjGC,EAAO,EAAPA,QAAqBC,GAAF,EAAVC,WAAoB,EAARD,UAAUE,EAAI,EAAJA,KAAkCC,GAAF,EAA1BC,2BAAoD,EAAxBD,0BAgB5E,OACE,cAACE,EAAA,EAAM,CAACC,UAAW,EAAGC,GAAI,CAACC,gBAAgB,SAAS,SAChD,eAACC,EAAA,EAAO,WACJ,cAACC,EAAA,EAAU,CACPC,QAAQ,KACRC,QAAM,EACNC,UAAU,MACVN,GAAI,CAAEO,SAAU,EAAGC,MAAO,WAAY,SACzC,eAGS,OAATb,EACG,KACA,cAACc,EAAA,EAAM,CAACT,GAAI,CAACU,SAAU,WAAYT,gBAAiB,QAASO,MAAO,UAAW,SAAU,CAACP,gBAAiB,UAAWO,MAAO,UAAWG,KAAK,QAAQC,QAAS,kBA3BzJ,WACjB,IACEC,OAAOC,aAAaC,QACpBF,OAAOG,SAASC,QAAO,GACvBC,MAAMC,SAAS,IACf3B,EAAQ,GAOV,CANE,MAAO4B,GACTxB,GAAyB,GACvBH,EAAS,eACT4B,YAAW,WACT5B,EAAS,KACX,GAAG,IACL,CACF,CAckL6B,EAAc,EAAC,SAAC,gBAMtM,E,mDCpCIC,EAAU,2BAQVC,EAAW,iDAAG,WAAOC,GAAI,iGACJC,IAAMC,IAAI,GAAD,OAAIJ,EAAO,0BAAkBE,IAAO,OAAtD,OAARG,EAAQ,yBACPA,EAASC,MAAI,2CACvB,gBAHgB,sCAKXC,EAAU,iDAAG,WAAOC,GAAE,iGACDL,IAAMC,IAAI,GAAD,OAAIJ,EAAO,qBAAaQ,IAAK,OAA/C,OAARH,EAAQ,yBACPA,EAASC,MAAI,2CACvB,gBAHe,sCAKVG,EAAW,iDAAG,WAAOD,EAAIE,EAAWC,GAAuC,qFAW9E,OAPGC,EAAU,CACdC,OAAQ,OACRC,KAJIR,EAAO,CAAC,SAAW,CAAC,CAAC,YAAcE,EAAG,SAAWG,EAAwC,uBAAyB,QAKtHI,MAAM,EACNC,QAAS,CACL,cAAgB,UAAD,OAAYN,KAE9B,SACsBP,IAAMc,KAAK,GAAD,OAAIjB,EAAO,iBAAiBM,EAAMM,EAAS,CAAC,GAAE,OACrD,OADpBP,EAAQ,OACda,QAAQC,IAAId,EAASC,MAAK,kBACnBD,EAASC,MAAI,2CACrB,gBAfgB,0CAiBF,GAAEL,cAAaM,aAAYE,cAAab,SA/BtC,SAAAwB,GACV,iBAAaA,EACpB,GCqDeC,EAxDE,SAAH,GAA8C,IAAxCnB,EAAI,EAAJA,KAAMoB,EAAO,EAAPA,QAAiBC,GAAF,EAANC,OAAiB,EAATD,WAQnCE,EAAS,iDAAG,WAAOvB,GAAI,iGACFP,EAAMM,YAAYC,GAAK,OAAxCG,EAAQ,OACdkB,EAAUlB,EAASqB,OAAM,2CAC5B,gBAHc,sCAKf,OACE,cAACC,EAAA,EAAG,CACF5C,UAAU,OACVN,GAAI,CACF,uBAAwB,CAAEmD,EAAG,EAAGC,OAAQ,sBAAuBC,MAAO,SAExEC,YAAU,EACVC,aAAa,MAAK,SAElB,8BACE,cAACC,EAAA,EAAS,CACRzB,GAAG,2BACH0B,QAAM,EACNC,MAAM,WACNC,MAAOlC,EACPmC,SAxBa,SAACC,GACpBhB,EAAQgB,EAAMC,OAAOH,MACvB,EAuBQ3D,GACI,CACE,2BAA4B,CACxB,aAAc,CACV+D,YAAa,WAEjB,mBAAoB,CAChBA,YAAa,WAEjB,yBAA0B,CACtBA,YAAa,aAIxB,SAzCI,CAAC,UAAW,UA2CXC,KAAI,SAACvC,GAAI,OACf,cAACwC,EAAA,EAAQ,CAAYN,MAAOlC,EAAMb,QAAS,kBAAMoC,EAAUvB,EAAK,EAAC,SAC9DyC,OAAOC,OAAO1C,IADFA,EAEJ,SAMvB,E,SC0Be2C,EA7EG,SAAH,GAAmD,IAA7CP,EAAK,EAALA,MAAOQ,EAAQ,EAARA,SAAUC,EAAY,EAAZA,aAAcvB,EAAM,EAANA,OAYlD,OACE,qBAAKwB,UAAU,aAAY,SACzB,cAACrB,EAAA,EAAG,CACF5C,UAAU,OACVN,GAAI,CACF,uBAAwB,CAAEqD,MAAO,OAAQD,OAAQ,uBAEnDE,YAAU,EACVC,aAAa,MAAK,SAElB,8BACE,cAACC,EAAA,EAAS,CACRzB,GAAG,2BACH0B,QAAM,EACNC,MAAM,YACNC,MAAOE,EACPD,SA1BW,SAACC,GACpBQ,EAASR,EAAMC,OAAOH,MACxB,EAyBU3D,GACE,CACE,2BAA4B,CACxB,aAAc,CACV+D,YAAa,WAEjB,mBAAoB,CAChBA,YAAa,WAEjB,yBAA0B,CACtBA,YAAa,aAIxB,SAEAhB,EACEyB,MAAK,SAACC,EAAGC,GAAC,OAAKA,EAAEC,oBAAsBF,EAAEE,mBAAmB,IAC5DC,QAAO,SAAAf,GAAK,OAA0B,IAAtBA,EAAMgB,WAAiB,IACvCb,KAAI,SAACH,GAAK,OACX,eAACI,EAAA,EAAQ,CAECN,MAAOE,EAAMiB,KACblE,QAAS,kBA9CTmB,EA8C4B8B,EAAM9B,QA7CtDb,EAAMY,WAAWC,GAAIgD,MAAK,SAAAlB,GACtBS,EAAaT,EAAMZ,MACvB,IAHmB,IAAClB,CA8CqC,EACrC/B,GAAI,CACAqD,MAAO,IACP2B,WAAY,UACV,UAEbnB,EAAMiB,KACP,cAAC5B,EAAA,EAAG,CAAClD,GAAI,CAACoD,OAAQ,oBAAoB,SACZ,IAAvBS,EAAMoB,aACL,cAACC,EAAA,EAAI,CAACxB,MAAK,UAAKG,EAAMoB,aAAY,QAAQzE,MAAM,UAAUJ,QAAQ,aAElE,cAAC8E,EAAA,EAAI,CAACxB,MAAK,UAAKG,EAAMoB,aAAY,QAAQzE,MAAM,QAAQJ,QAAQ,iBAdvDyD,EAAMiB,KAkBV,WAQzB,EC5BeK,EApDI,SAAH,GAAsB,IAAhBhE,EAAQ,EAARA,SAKpB,OACE,cAAC+B,EAAA,EAAG,CACF5C,UAAU,OACVN,GAAI,CACF,uBAAwB,CAAEqD,MAAO,OAAQD,OAAQ,sBAE/C,2BAA4B,CACxB,aAAc,CACVW,YAAa,WAEjB,mBAAoB,CAChBA,YAAa,WAEjB,yBAA0B,CACtBA,YAAa,aAKzBT,YAAU,EACVC,aAAa,MAAK,SAElB,8BACE,cAACC,EAAA,EAAS,CACRzB,GAAG,sBACHqD,YAAY,cACZ1B,MAAM,eACN1D,GAAkB,CAChB,2BAA4B,CACxB,UAAW,CACPQ,MAAO,WAEX,mBAAoB,CAChBuD,YAAa,WAEjB,yBAA0B,CACtBA,YAAa,aAIvBH,SA5Ca,SAACC,GACpB1C,EAAS0C,EAAMC,OAAOH,MACxB,OA+CF,E,kBC8Ee0B,EA7HG,SAAH,GAAsG,IAAhGxB,EAAK,EAALA,MAAOyB,EAAK,EAALA,MAAO5F,EAAU,EAAVA,WAAYD,EAAQ,EAARA,SAAUG,EAAwB,EAAxBA,yBAA0BC,EAA0B,EAA1BA,2BAEjF,EAAwB0F,oBAAS,GAAM,mBAAhCC,EAAI,KAAEC,EAAO,KACdC,EAAaC,kBAAO,GACpBC,EAAOD,mBAEbE,qBAAU,WACR,IAAIH,EAAWI,QASf,OALSN,EACPI,EAAKE,QAAUC,YAAYC,EAAe,KAE1CC,cAAcL,EAAKE,SAEd,kBAAMG,cAAcL,EAAKE,QAAS,EARvCJ,EAAWI,SAAWJ,EAAWI,OASrC,GAAG,CAACN,IAEJ,IAAMQ,EAAgB,WACpB,GAAKV,EAQH,IACEzB,EAAMqC,SAASlC,KAAI,SAAAH,GAAK,OACtB3C,EAAMc,YAAY6B,EAAMsC,YAAab,EAAOzB,EAAM3B,yCAC3C6C,MAAK,SAACnD,GACH/B,GAA2B,GAC3BH,EAAW,cAAD,OAAemE,EAAMiB,KAAI,aACnCzD,YAAW,WACT3B,EAAW,IACXG,GAA2B,EAC7B,GAAG,IACL,IACDuG,OAAM,SAAAC,GAC2B,MAA1BA,EAAMzE,SAAS0E,SACjB1G,GAAyB,GACzBH,EAAS,8EACT4B,YAAW,WACT5B,EAAS,GACX,GAAG,MAEyB,MAA1B4G,EAAMzE,SAAS0E,SACjB1G,GAAyB,GACzBH,EAAS,WAAD,OAAYoE,EAAMiB,KAAI,qBAC9BzD,YAAW,WACT5B,EAAS,IACTG,GAAyB,EAC3B,GAAG,KAEL,GAAE,IAEsB,IAA1BiE,EAAMqC,SAASK,SACf3G,GAAyB,GACzBH,EAAS,+BACT4B,YAAW,WACT5B,EAAS,GACX,GAAG,KAQf,CANE,MAAM4G,GACNzG,GAAyB,GACzBH,EAAS,sCACT4B,YAAW,WACT5B,EAAS,GACX,GAAG,IACL,MAjDAG,GAAyB,GACzBH,EAAS,kBACT4B,YAAW,WACT5B,EAAS,GACX,GAAG,IA+CP,EA0BA,OACE,cAACyD,EAAA,EAAG,UACF,eAACA,EAAA,EAAG,CAAClD,GAAI,CAAE,aAAc,CAAEmD,EAAG,IAAM,UAClC,cAAC,IAAM,CACLvC,QAAS,WAPboF,GAOgC,EAC5B5F,QAAQ,YACRJ,GAAI,CAACQ,MAAO,QAASP,gBAAiB,WAAW,SAClD,YAGD,cAACuG,EAAA,EAAY,CACX7C,MAAM,QACNhD,KAAK,QACL8F,SAAUjB,EACVhF,MAAM,WACNI,QAvCe,WACrB6E,GAASD,GACLA,IACF3F,GAA2B,GAC3BH,EAAW,0BACX2B,YAAW,WACT3B,EAAW,IACXG,GAA2B,EAC7B,GAAG,MAEA2F,IACD3F,GAA2B,GAC3BH,EAAW,qDACX2B,YAAW,WACT3B,EAAW,IACXG,GAA2B,EAC7B,GAAG,KAET,EAsBQ+D,SAAU,WACR6B,GAASD,EACX,EAAE,SAEHA,EAAO,SAAW,gBAK3B,E,yFC/HMkB,EAAK,iDAAG,WAAMC,GAAW,iGACNjF,IAAMc,KAHf,aAG6BmE,GAAY,OAAzC,OAAR/E,EAAQ,yBACPA,EAASC,MAAI,2CACrB,gBAHU,sCAKI,GAAE6E,SCOXE,EAAY,SAACC,GACjB,OACE,eAAC1G,EAAA,EAAU,yBAACC,QAAQ,QAAQI,MAAM,iBAAiBsG,MAAM,UAAaD,GAAK,cACxE,uEACD,cAACE,EAAA,EAAI,CAACvG,MAAM,UAAUwG,KAAK,6BAA4B,SAAC,YAEhD,KACP,IAAIC,MAAOC,cACX,OAGP,EAEMC,EAAQC,cA4FCC,EA1FG,SAAH,GAAkG,IAA5F3H,EAAU,EAAVA,WAAYD,EAAQ,EAARA,SAAUD,EAAO,EAAPA,QAASK,EAA0B,EAA1BA,2BAA4BD,EAAwB,EAAxBA,yBAC9E,EAAgC2F,mBAAS,IAAG,mBAArC+B,EAAQ,KAAEC,EAAW,KAC5B,EAAgChC,mBAAS,IAAG,mBAArCiC,EAAQ,KAAEC,EAAW,KAEtBC,EAAW,iDAAG,WAAM7D,GAAK,iFACP,OAAtBA,EAAM8D,iBAAgB,kBAEDjB,EAAMA,MAAM,CAC7BY,WAAUE,aACV,OAFI7H,EAAI,OAGVkB,OAAOC,aAAa8G,QAAQ,kBAAmBC,KAAKC,UAAUnI,IAC9DuB,EAAMC,SAASxB,EAAK2F,OACpB9F,EAAQG,GACR8C,QAAQC,IAAI/C,GACZ4H,EAAY,IACZE,EAAY,IACZ5H,GAA2B,GAC3BH,EAAW,gBAAD,OAAiBC,EAAKmF,OAChCzD,YAAW,WACTxB,GAA2B,GAC3BH,EAAW,KACb,GAAG,KAAK,kDAERE,GAAyB,GACzBH,EAAS,+BACT4B,YAAW,WACTzB,GAAyB,GACzBH,EAAS,KACX,GAAG,KAAK,0DAEX,gBA1BgB,sCA4BjB,OACE,cAACsI,EAAA,EAAa,CAACZ,MAAOA,EAAM,SAC1B,eAACa,EAAA,EAAS,CAAC1H,UAAU,OAAO2H,SAAS,KAAI,UACvC,cAACC,EAAA,EAAW,IACZ,eAAChF,EAAA,EAAG,CACFlD,GAAI,CACFmI,UAAW,EACXC,QAAS,OACTC,cAAe,SACfC,WAAY,UACZ,UAEF,cAACC,EAAA,EAAM,CAACvI,GAAI,CAAEmD,EAAG,EAAGqF,QAAS,kBAAmB,SAC9C,cAAC,IAAgB,MAEnB,cAACrI,EAAA,EAAU,CAACG,UAAU,KAAKF,QAAQ,KAAI,SAAC,YAGxC,eAAC8C,EAAA,EAAG,CAAC5C,UAAU,OAAOmI,SAAUf,EAAapE,YAAU,EAACtD,GAAI,CAAE0I,GAAI,GAAI,UACpE,cAAClF,EAAA,EAAS,CACRJ,OAAO,SACPuF,UAAQ,EACRC,WAAS,EACT7G,GAAG,WACH2B,MAAM,WACNoB,KAAK,WACLvB,aAAa,WACbsF,WAAS,EACTlF,MAAO2D,EACP1D,SAAU,gBAAGE,EAAM,EAANA,OAAM,OAAOyD,EAAYzD,EAAOH,MAAM,IAErD,cAACH,EAAA,EAAS,CACRJ,OAAO,SACPuF,UAAQ,EACRC,WAAS,EACT9D,KAAK,WACLpB,MAAM,WACNoF,KAAK,WACL/G,GAAG,WACH4B,MAAO6D,EACP5D,SAAU,gBAAGE,EAAM,EAANA,OAAM,OAAO2D,EAAY3D,EAAOH,MAAM,IAErD,cAAClD,EAAA,EAAM,CACLqI,KAAK,SACLF,WAAS,EACTxI,QAAQ,YACRJ,GAAI,CAAE0I,GAAI,EAAGK,GAAI,GAAI,SACtB,kBAKL,cAAC,EAAS,CAAC/I,GAAI,CAAE0I,GAAI,EAAGK,GAAI,SAIpC,E,2BC9EeC,EAnCM,SAAH,GAAiI,IAA3HC,EAAO,EAAPA,QAAS5C,EAAK,EAALA,MAAO6C,EAAuB,EAAvBA,wBAAyBC,EAAqB,EAArBA,sBAAuBtJ,EAA0B,EAA1BA,2BAA4BD,EAAwB,EAAxBA,yBAE5GwJ,EAAmB,SAACvF,EAAOwF,GAChB,cAAXA,GAGJzJ,GAAyB,EAC3B,EACM0J,EAAqB,SAACzF,EAAOwF,GAClB,cAAXA,GAGJxJ,GAA2B,EAC7B,EAEA,OACE,eAAC0J,EAAA,EAAK,CAACC,QAAS,EAAGxJ,GAAI,CAAEqD,MAAO,QAAS,UACvC,cAACoG,EAAA,EAAQ,CAACC,KAAMP,EAAuBQ,iBAAkB,IAAMC,QAASR,EAAiB,SACrF/C,GACE,cAACwD,EAAA,EAAK,CAACD,QAASR,EAAkBU,SAAS,QAAQ9J,GAAI,CAAEqD,MAAO,QAAS,SACpEgD,MAIX,cAACoD,EAAA,EAAQ,CAACC,KAAMR,EAAyBS,iBAAkB,IAAMC,QAASN,EAAmB,SACzFL,GACE,cAACY,EAAA,EAAK,CAACD,QAASN,EAAoBQ,SAAS,UAAU9J,GAAI,CAAEqD,MAAO,QAAS,SACxE4F,QAMjB,E,0FC8Cec,GAxEG,SAAH,GAAmB,IAERC,EAFLnG,EAAK,EAALA,MAWfoG,EAAO,IAAIhD,KAAKpD,EAAMqG,QAAQC,gBAElC,OACI,eAACC,EAAA,EAAI,CAACpK,GAAI,CAAEiI,SAAU,IAAK7E,OAAQ,OAAQ+E,UAAW,OAAQkC,QAAS,kCAAkC,UACrG,cAACC,EAAA,EAAS,CACRhK,UAAU,MACViK,OAAO,MACPC,MAAK,qFAAgF3G,EAAMqG,QAAQO,eACnGC,IAAI,oBAGN,eAACC,EAAA,EAAW,WACV,cAACxK,EAAA,EAAU,CAACyK,cAAY,EAACxK,QAAQ,KAAKE,UAAU,MAAK,SAClDuD,EAAMqG,QAAQpF,OAEjB,cAAC3E,EAAA,EAAU,CAACyK,cAAY,EAACtK,UAAU,MAAK,SACtC,cAAC4E,EAAA,EAAI,CAACxB,MAAOG,EAAMgH,QAAQ/F,KAAMtE,MAAM,UAAUJ,QAAQ,eAE3D,eAACD,EAAA,EAAU,CAACyK,cAAY,EAACtK,UAAU,MAAK,UACtC,cAAC,KAAS,CAACwK,SAAS,UAAU9K,GAAI,CAAE+K,YAAa,KAAO,IAAEd,EAAKe,oBAEjE,eAAC7K,EAAA,EAAU,CAACyK,cAAY,EAACtK,UAAU,MAAK,UACtC,cAAC,KAAc,CAACwK,SAAS,UAAU9K,GAAI,CAAE+K,YAAa,KAAO,IAAElH,EAAMqG,QAAQe,MAAM,KAAGpH,EAAMqG,QAAQgB,oBAGxG,cAAC/K,EAAA,EAAU,CAACyK,cAAY,EAACxK,QAAQ,KAAI,SAAC,gBAGC,IAAtCyD,EAAMqG,QAAQvF,oBACXd,EAAMqC,SAASlC,KAAI,SAAAH,GAAK,OACpB,eAACuG,EAAA,EAAI,CAACpK,GAAI,CAAEiI,SAAU,IAAKkD,UAAW,IAAK/H,OAAQ,OAAQ+E,UAAW,OAAQiD,UAAW,QAAQ,UAC7F,cAACjL,EAAA,EAAU,CAACyK,cAAY,EAACxK,QAAQ,KAAKE,UAAU,MAAMN,GAAI,CAACoL,UAAW,OAAQpG,WAAY,SAAU5B,OAAQ,kBAAmBiI,WAAY,KAAK,SAC3IxH,EAAMiB,OAEX,eAAC5B,EAAA,EAAG,CAAClD,GAAI,CAACoL,UAAW,OAAQpG,WAAY,SAAU5B,OAAQ,mBAAmB,UACpD,IAAvBS,EAAMoB,aACL,cAACC,EAAA,EAAI,CAAClF,GAAI,CAACoD,OAAQ,mBAAoBM,MAAK,UAAKG,EAAMoB,aAAY,MAAMzE,MAAM,UAAUJ,QAAQ,WAAWO,KAAK,UAEjH,cAACuE,EAAA,EAAI,CAAClF,GAAI,CAACoD,OAAQ,mBAAoBM,MAAK,UAAKG,EAAMoB,aAAY,MAAMzE,MAAM,QAAQJ,QAAQ,WAAWO,KAAK,UAG/G,cAACuE,EAAA,EAAI,CAACxB,MAAK,UAAMG,EAAMyH,aAAgB,IAAG,WAAM9K,MAAM,UAAUJ,QAAQ,WAAWO,KAAK,eAEzF,IAGX,cAACyJ,EAAA,EAAI,CAACpK,GAAI,CAAEiI,SAAU,IAAKkD,UAAW,IAAK/H,OAAQ,OAAQ+E,UAAW,OAAQiD,UAAW,QAAQ,SAC7F,eAACjL,EAAA,EAAU,CAACyK,cAAY,EAACxK,QAAQ,KAAKE,UAAU,MAAMN,GAAI,CAACoL,UAAW,OAAQpG,WAAY,SAAU5B,OAAQ,kBAAmBiI,WAAY,KAAK,UAAC,iBAxDzIrB,EAyDyBnG,EAAMqG,QAAQvF,oBAxDvDqF,EAAO,KACA,IAAI/C,KAAY,IAAP+C,GAAauB,cAAcC,MAAM,GAAI,IAErDxB,EAAO,KACA,IAAI/C,KAAY,IAAP+C,GAAauB,cAAcC,MAAM,GAAI,SADzD,GAqDgF,kBAI9E,cAACC,EAAA,EAAW,UACZ,cAAChL,EAAA,EAAM,CAACE,KAAK,QAAQX,GAAI,CAACQ,MAAM,UAAW2H,UAAU,QAASuD,QAAS,cAAC,KAAgB,IAAK1E,KAAI,kCAA6BnD,EAAMqG,QAAQnI,IAAK,SAAC,2BAM1J,ECUe4J,GA/EH,WAEV,MAAwBpG,mBAAS,IAAG,mBAA7B9D,EAAI,KAAEoB,EAAO,KACpB,EAA0B0C,mBAAS,IAAG,mBAA/B1B,EAAK,KAAEQ,EAAQ,KACtB,EAA0BkB,mBAAS,IAAG,mBAA/BD,EAAK,KAAEnE,EAAQ,KACtB,EAAkCoE,mBAAS,MAAK,mBAAzCqG,EAAS,KAAEtH,EAAY,KAC9B,EAA4BiB,mBAAS,IAAG,mBAAjCxC,EAAM,KAAED,EAAS,KACxB,EAA8ByC,mBAAS,MAAK,mBAArC0D,EAAO,KAAEvJ,EAAU,KAC1B,EAA0B6F,mBAAS,MAAK,mBAAjCc,EAAK,KAAE5G,EAAQ,KACtB,EAAwB8F,mBAAS,MAAK,mBAA/B5F,EAAI,KAAEH,EAAO,KACpB,EAA0D+F,oBAAS,GAAM,mBAAlE4D,EAAqB,KAAEvJ,EAAwB,KACtD,EAA8D2F,oBAAS,GAAM,mBAAtE2D,EAAuB,KAAErJ,EAA0B,KAW1D,OATAgG,qBAAU,WACR,IAAMgG,EAAiBhL,OAAOC,aAAagL,QAAQ,mBACnD,GAAID,EAAgB,CAClB,IAAMlM,EAAOkI,KAAKkE,MAAMF,GACxBrM,EAAQG,GACRuB,EAAMC,SAASxB,EAAK2F,MACtB,CACF,GAAG,IAEU,OAAT3F,EAEA,cAAC,EAAS,CACRD,WAAYA,EACZD,SAAUA,EACVI,2BAA4BA,EAC5BD,yBAA0BA,EAC1BJ,QAASA,IAOb,sBAAK+E,UAAU,MAAK,UAClB,cAAC,EAAY,CAAC0E,QAASA,EACT5C,MAAOA,EACP8C,sBAAuBA,EACvBvJ,yBAA0BA,EAC1BsJ,wBAAyBA,EACzBrJ,2BAA4BA,IAE1C,cAAC,EAAM,CAACH,WAAYA,EACZD,SAAUA,EACVD,QAASA,EACTK,2BAA4BA,EAC5BD,yBAA0BA,EAC1BD,KAAMA,IAEd,eAACyK,EAAA,EAAI,CAACpK,GAAI,CAAEqD,MAAO,IAAK2I,UAAW,IAAK5I,OAAQ,OAAQiH,QAAS,kCAAkC,UAC7F,cAAC,EAAQ,CAACxH,QAASA,EACTpB,KAAMA,EACNqB,UAAWA,IAErB,cAAC,EAAS,CAACuB,SAAUA,EACVtB,OAAQA,EACRc,MAAOA,EACPS,aAAcA,IAEzB,cAAC,EAAU,CAACnD,SAAUA,IACtB,cAAC,EAAS,CAAC0C,MAAO+H,EACPlM,WAAYA,EACZD,SAAUA,EACVI,2BAA4BA,EAC5BD,yBAA0BA,EAC1B0F,MAAOA,OAGR,OAAfsG,EACG,6BAEA,cAAC,GAAS,CAAC/H,MAAO+H,MAI5B,ECrFaK,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH,cAAC,IAAMC,WAAU,UACf,cAAC,GAAG,M","file":"static/js/main.450ce8f4.chunk.js","sourcesContent":["import AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nconst Navbar = ({setUser, setMessage, setError, user, setOpenMessageNotification, setOpenErrorNotification }) => {     \r\n    \r\n    const handleLogout = () => {\r\n        try {\r\n          window.localStorage.clear()\r\n          window.location.reload(true)\r\n          fetch.setToken('')\r\n          setUser('')\r\n        } catch (exception) {\r\n        setOpenErrorNotification(true)\r\n          setError('Logged out.')\r\n          setTimeout(() => {\r\n            setError(null)\r\n          }, 6000)\r\n        }\r\n      }\r\n      return (\r\n        <AppBar elevation={0} sx={{backgroundColor:'white'}}>\r\n            <Toolbar >\r\n                <Typography  \r\n                    variant=\"h5\"\r\n                    noWrap\r\n                    component=\"div\"\r\n                    sx={{ flexGrow: 1, color: '#2a0062' }}\r\n                >\r\n                    KideStonks\r\n                </Typography>\r\n                {user === null ? \r\n                    null :\r\n                    <Button sx={{position: 'absolute', backgroundColor: 'white', color: '#2a0062', \":hover\": {backgroundColor: '#2a0062', color: 'white'}}} size=\"small\" onClick={() => handleLogout()}>log out</Button>\r\n                }\r\n            </Toolbar>\r\n            \r\n        </AppBar>\r\n    )\r\n  }\r\n  export default Navbar","import axios from 'axios';\r\nimport { useState, useEffect } from 'react'\r\n\r\nconst baseUrl = 'https://api.kide.app/api'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `Bearer ${newToken}`\r\n}\r\n\r\nconst fetchEvents = async (city) => {\r\n    const response = await axios.get(`${baseUrl}/products?city=${city}`)\r\n    return response.data\r\n}\r\n\r\nconst fetchEvent = async (id) => {\r\n    const response = await axios.get(`${baseUrl}/products/${id}`)\r\n    return response.data\r\n}\r\n\r\nconst fetchTicket = async (id, kideToken, productVariantMaximumReservableQuantity) => {\r\n\r\n  var data = {\"toCreate\":[{\"inventoryId\":id,\"quantity\":productVariantMaximumReservableQuantity,\"productVariantUserForm\":null}]}\r\n\r\n  var options = {\r\n  method: 'POST',\r\n  body: data,\r\n  json: true,\r\n  headers: {\r\n      'Authorization': `Bearer ${kideToken}`\r\n    }\r\n  }\r\n  const response = await axios.post(`${baseUrl}/reservations`, data, options, {})\r\n  console.log(response.data)\r\n  return response.data\r\n}\r\n\r\nexport default { fetchEvents, fetchEvent, fetchTicket, setToken }","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport fetch from '../services/fetch';\r\n\r\nconst CityMenu = ({ city, setCity, events, setEvents }) => {\r\n\r\n  const cities = ['Joensuu', 'Kuopio']\r\n\r\n  const handleChange = (event) => {\r\n    setCity(event.target.value);\r\n  };\r\n  \r\n  const getEvents = async (city) => {\r\n      const response = await fetch.fetchEvents(city)\r\n      setEvents(response.model)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { m: 0, margin: \"100px 0px 10px auto\", width: '25ch' },\r\n      }}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n    >\r\n      <div>\r\n        <TextField\r\n          id=\"outlined-select-currency\"\r\n          select\r\n          label=\"Kaupunki\"\r\n          value={city}\r\n          onChange={handleChange}\r\n          sx={\r\n              {                        \r\n                '& .MuiOutlinedInput-root': {  \r\n                    '& fieldset': {           \r\n                        borderColor: '#2a0062',   \r\n                    },\r\n                    '&:hover fieldset': {\r\n                        borderColor: '#2a0062',\r\n                    },\r\n                    '&.Mui-focused fieldset': { \r\n                        borderColor: '#2a0062',\r\n                    },\r\n                },\r\n              } \r\n            }\r\n        >\r\n          {cities.map((city) => (\r\n            <MenuItem key={city} value={city} onClick={() => getEvents(city)}>\r\n              {Object.values(city)}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default CityMenu","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { useState } from 'react'\r\nimport fetch from '../services/fetch';\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Divider from '@mui/material/Divider';\r\n\r\nconst EventMenu = ({ event, setEvent, setEventInfo, events }) => {\r\n\r\n  const handleChange = (event) => {\r\n    setEvent(event.target.value);\r\n  };\r\n\r\n  const getEventInfo = (id) => {\r\n    fetch.fetchEvent(id).then(event => {\r\n        setEventInfo(event.model)\r\n    }) \r\n  }\r\n\r\n  return (\r\n    <div className='event-menu'>\r\n      <Box\r\n        component=\"form\"\r\n        sx={{\r\n          '& .MuiTextField-root': { width: '25ch', margin: \"10px 0px 10px auto\" },\r\n        }}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n      >\r\n        <div>\r\n          <TextField\r\n            id=\"outlined-select-currency\"\r\n            select\r\n            label=\"Tapahtuma\"\r\n            value={event}\r\n            onChange={handleChange}\r\n            sx={\r\n              {                         \r\n                '& .MuiOutlinedInput-root': {  \r\n                    '& fieldset': {           \r\n                        borderColor: '#2a0062',   \r\n                    },\r\n                    '&:hover fieldset': {\r\n                        borderColor: '#2a0062',\r\n                    },\r\n                    '&.Mui-focused fieldset': { \r\n                        borderColor: '#2a0062',\r\n                    },\r\n                },\r\n              } \r\n            }\r\n          >\r\n            {events\r\n              .sort((a, b) => b.timeUntilSalesStart - a.timeUntilSalesStart)\r\n              .filter(event => event.productType === 1)\r\n              .map((event) => (\r\n              <MenuItem key={event.name} \r\n              \r\n                        value={event.name} \r\n                        onClick={() => getEventInfo(event.id)}\r\n                        sx={{\r\n                            width: 350,\r\n                            whiteSpace: \"normal\",\r\n                            }}\r\n                        >\r\n                {event.name}\r\n                <Box sx={{margin: \"0px 0px 0px auto\"}}>\r\n                  {event.availability !== 0 ?\r\n                    <Chip label={`${event.availability} kpl`} color=\"success\" variant=\"outlined\" />\r\n                    :\r\n                    <Chip label={`${event.availability} kpl`} color=\"error\" variant=\"outlined\" />\r\n                  }\r\n                  \r\n                </Box>\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n        </div>\r\n      </Box>\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nexport default EventMenu","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nconst TokenInput = ({ setToken }) => {\r\n  const handleChange = (event) => {\r\n    setToken(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      sx={{\r\n        '& .MuiTextField-root': { width: '25ch', margin: \"10px 0px 10px auto\" },\r\n                                 \r\n          '& .MuiOutlinedInput-root': {  \r\n              '& fieldset': {           \r\n                  borderColor: '#2a0062',   \r\n              },\r\n              '&:hover fieldset': {\r\n                  borderColor: '#2a0062',\r\n              },\r\n              '&.Mui-focused fieldset': { \r\n                  borderColor: '#2a0062',\r\n              },\r\n          },\r\n        } \r\n      }\r\n      noValidate\r\n      autoComplete=\"off\"\r\n    >\r\n      <div>\r\n        <TextField\r\n          id=\"outlined-helperText\"\r\n          placeholder='Syötä'\r\n          label=\"Bearer token\"\r\n          sx={              {                         \r\n            '& .MuiOutlinedInput-root': {  \r\n                '& label': {           \r\n                    color: '#2a0062',   \r\n                },\r\n                '&:hover fieldset': {\r\n                    borderColor: '#2a0062',\r\n                },\r\n                '&.Mui-focused fieldset': { \r\n                    borderColor: '#2a0062',\r\n                },\r\n            },\r\n          } }\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default TokenInput\r\n","import * as React from 'react';\r\nimport Button from '@mui/lab/LoadingButton';\r\nimport { Box } from '@mui/material/';\r\nimport fetch from '../services/fetch';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\n\r\nconst BuyButton = ({ event, token, setMessage, setError, setOpenErrorNotification, setOpenMessageNotification }) => {\r\n\r\n  const [loop, setLoop] = useState(false)\r\n  const firstStart = useRef(true);\r\n  const tick = useRef();\r\n\r\n  useEffect(() => {\r\n    if (firstStart.current) {\r\n      firstStart.current = !firstStart.current;\r\n      return;\r\n    }\r\n    else if (loop) {\r\n      tick.current = setInterval(buyAllTickets, 500);\r\n    } else {\r\n      clearInterval(tick.current);\r\n    }\r\n    return () => clearInterval(tick.current);\r\n  }, [loop]);\r\n\r\n  const buyAllTickets = () => {\r\n    if (!token){\r\n      setOpenErrorNotification(true)\r\n      setError(`Token puuttuu.`)\r\n      setTimeout(() => {\r\n        setError([])\r\n      }, 6000)\r\n    }\r\n    else {\r\n      try {\r\n        event.variants.map(event => (\r\n          fetch.fetchTicket(event.inventoryId, token, event.productVariantMaximumReservableQuantity)\r\n                .then((response) => {\r\n                    setOpenMessageNotification(true)\r\n                    setMessage(`Napattiin '${event.name}' lippu.`)\r\n                    setTimeout(() => {\r\n                      setMessage('')\r\n                      setOpenMessageNotification(false)\r\n                    }, 6000)\r\n                  })\r\n                .catch(error => {\r\n                    if (error.response.status === 401){\r\n                      setOpenErrorNotification(true)\r\n                      setError(`Token väärin tai puutteellinen. Anna token ilman Bearer-liitettä.`)\r\n                      setTimeout(() => {\r\n                        setError([])\r\n                      }, 6000)\r\n                    }\r\n                    if (error.response.status === 400){\r\n                      setOpenErrorNotification(true)\r\n                      setError(`Lippua '${event.name}' ei saatavilla.`)\r\n                      setTimeout(() => {\r\n                        setError('')\r\n                        setOpenErrorNotification(false)\r\n                      }, 6000)\r\n                      }\r\n                    })\r\n                  ))\r\n              if (event.variants.length === 0){\r\n                  setOpenErrorNotification(true)\r\n                  setError(`Myynti ei vielä alkanut.`)\r\n                  setTimeout(() => {\r\n                    setError([])\r\n                  }, 6000)\r\n              }\r\n      } catch(error){\r\n        setOpenErrorNotification(true)\r\n        setError(`Odottamaton virhe. Mitä vittua.`)\r\n        setTimeout(() => {\r\n          setError([])\r\n        }, 6000)\r\n      }\r\n    }\r\n  }\r\n\r\n  const toggleStartBuy = () => {\r\n    setLoop(!loop);\r\n    if (loop){\r\n      setOpenMessageNotification(true)\r\n      setMessage(`Lopetetaan looppaus...`)\r\n      setTimeout(() => {\r\n        setMessage('')\r\n        setOpenMessageNotification(false)\r\n      }, 6000)\r\n    }\r\n    if (!loop){\r\n        setOpenMessageNotification(true)\r\n        setMessage(`Yritetään ostaa lippua joka 1s välein...`)\r\n        setTimeout(() => {\r\n          setMessage('')\r\n          setOpenMessageNotification(false)\r\n        }, 6000)\r\n      }\r\n  };\r\n\r\n  const handleClick = () => {\r\n      buyAllTickets()\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box sx={{ '& > button': { m: 3 } }}>\r\n        <Button\r\n          onClick={() => handleClick()}\r\n          variant=\"contained\"\r\n          sx={{color: \"white\", backgroundColor: '#2a0062'}}\r\n        >\r\n          OSTA 1x\r\n        </Button>\r\n        <ToggleButton\r\n          value=\"check\"\r\n          size='small'\r\n          selected={loop}\r\n          color='standard'\r\n          onClick={toggleStartBuy} \r\n          onChange={() => {\r\n            setLoop(!loop);\r\n          }}\r\n        >\r\n        {loop ? 'Lopeta' : 'Looppaa'}\r\n        </ToggleButton>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default BuyButton","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import * as React from 'react';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Link from '@mui/material/Link';\r\nimport Box from '@mui/material/Box';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport Typography from '@mui/material/Typography';\r\nimport Container from '@mui/material/Container';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport login from '../services/login'\r\nimport fetch from '../services/fetch';\r\n\r\nconst Copyright = (props) => {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" {...props}>\r\n      {'KideStonks is behind login to prevent mass abuse :D. Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://github.com/paakkis\">\r\n        paakkis\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst theme = createTheme();\r\n\r\nconst LoginForm = ({ setMessage, setError, setUser, setOpenMessageNotification, setOpenErrorNotification }) =>  {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const handleLogin = async event => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await login.login({\r\n        username, password,\r\n      })\r\n      window.localStorage.setItem('loggedStonkuser', JSON.stringify(user))\r\n      fetch.setToken(user.token)\r\n      setUser(user)\r\n      console.log(user)\r\n      setUsername('')\r\n      setPassword('')\r\n      setOpenMessageNotification(true)\r\n      setMessage(`Logged in as ${user.name}`)\r\n      setTimeout(() => {\r\n        setOpenMessageNotification(false)\r\n        setMessage(null)\r\n      }, 6000)\r\n    } catch (exception) {\r\n      setOpenErrorNotification(true)\r\n      setError('Wrong username or password.')\r\n      setTimeout(() => {\r\n        setOpenErrorNotification(false)\r\n        setError(null)\r\n      }, 6000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: 'secondary.main' }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <Box component=\"form\" onSubmit={handleLogin} noValidate sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              autoFocus\r\n              value={username}\r\n              onChange={({ target }) => setUsername(target.value)}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={({ target }) => setPassword(target.value)}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Sign In\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n        <Copyright sx={{ mt: 8, mb: 4 }} />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default LoginForm","import * as React from 'react';\r\nimport Stack from '@mui/material/Stack';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport Alert from '@mui/material/Alert';\r\n\r\nconst Notification = ({ message, error, openMessageNotification, openErrorNotification, setOpenMessageNotification, setOpenErrorNotification}) => {\r\n\r\n  const handleErrorClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenErrorNotification(false);\r\n  };\r\n  const handleMessageClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    setOpenMessageNotification(false);\r\n  };\r\n\r\n  return (\r\n    <Stack spacing={2} sx={{ width: '100%' }}>\r\n      <Snackbar open={openErrorNotification} autoHideDuration={6000} onClose={handleErrorClose}>\r\n        {(error &&\r\n            <Alert onClose={handleErrorClose} severity=\"error\" sx={{ width: '100%' }}>\r\n                {error}\r\n            </Alert>\r\n        )}\r\n      </Snackbar>\r\n      <Snackbar open={openMessageNotification} autoHideDuration={6000} onClose={handleMessageClose}>\r\n        {(message &&\r\n            <Alert onClose={handleMessageClose} severity=\"success\" sx={{ width: '100%' }}>\r\n                {message}\r\n            </Alert>\r\n        )}\r\n      </Snackbar>\r\n    </Stack>\r\n  );\r\n}\r\n\r\nexport default Notification","import * as React from 'react';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Chip from '@mui/material/Chip';\r\nimport { Button, CardActions } from '@mui/material';\r\nimport EventIcon from '@mui/icons-material/Event';\r\nimport Box from '@mui/material/Box';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\r\n\r\nconst EventInfo = ({ event }) => {\r\n\r\n  const timeUntilSales = (secs) => {\r\n      if (secs > 3600){\r\n          return new Date(secs * 1000).toISOString().slice(11, 19);\r\n      }\r\n      if (secs < 3600) {\r\n          return new Date(secs * 1000).toISOString().slice(14, 19);\r\n      }\r\n  }\r\n    \r\n  var date = new Date(event.product.dateActualFrom)\r\n\r\n  return (\r\n      <Card sx={{ maxWidth: 400, margin: 'auto', marginTop: '20px', outline: 'solid 2px rgb(202,191,216,0.3)'}}>\r\n          <CardMedia\r\n            component=\"img\"\r\n            height=\"140\"\r\n            image={`https://portalvhdsp62n0yt356llm.blob.core.windows.net/bailataan-mediaitems/${event.product.mediaFilename}`}\r\n            alt=\"Tapahtuman kuva\"\r\n          />\r\n\r\n          <CardContent>\r\n            <Typography gutterBottom variant=\"h5\" component=\"div\">\r\n              {event.product.name}\r\n            </Typography>\r\n            <Typography gutterBottom component=\"div\">\r\n              <Chip label={event.company.name} color=\"default\" variant=\"outlined\" />\r\n            </Typography>\r\n            <Typography gutterBottom component=\"div\">\r\n              <EventIcon fontSize=\"inherit\" sx={{ marginRight: 1 }} /> {date.toLocaleString()}\r\n            </Typography>\r\n            <Typography gutterBottom component=\"div\">\r\n              <LocationOnIcon fontSize=\"inherit\" sx={{ marginRight: 1 }} /> {event.product.place}, {event.product.streetAddress}\r\n            </Typography>\r\n          </CardContent>\r\n          <Typography gutterBottom variant=\"h5\">\r\n              Lipputyypit\r\n          </Typography>\r\n          {event.product.timeUntilSalesStart === 0 ?\r\n              event.variants.map(event => (\r\n                  <Card sx={{ maxWidth: 380, maxHeight: 100, margin: 'auto', marginTop: '10px', textAlign: 'left'}} >\r\n                      <Typography gutterBottom variant=\"h7\" component=\"div\" sx={{textAlign: 'left', whiteSpace: \"normal\", margin: '7px 7px 7px 7px', fontWeight: 500}}>\r\n                          {event.name}\r\n                      </Typography>\r\n                      <Box sx={{textAlign: 'left', whiteSpace: \"normal\", margin: '7px 7px 7px 7px'}}>\r\n                        {event.availability !== 0 ?\r\n                          <Chip sx={{margin: '0px 7px 0px 0px'}} label={`${event.availability} %`} color=\"success\" variant=\"outlined\" size='small'/>\r\n                          :\r\n                          <Chip sx={{margin: '0px 7px 0px 0px'}} label={`${event.availability} %`} color=\"error\" variant=\"outlined\" size='small'/>\r\n                        }\r\n                          \r\n                          <Chip label={`${(event.pricePerItem) / 100} €`} color=\"default\" variant=\"outlined\" size='small' />\r\n                      </Box>\r\n                  </Card>\r\n              ))\r\n              :\r\n              <Card sx={{ maxWidth: 380, maxHeight: 100, margin: 'auto', marginTop: '10px', textAlign: 'left'}}>\r\n                  <Typography gutterBottom variant=\"h7\" component=\"div\" sx={{textAlign: 'left', whiteSpace: \"normal\", margin: '7px 7px 7px 7px', fontWeight: 500}}>\r\n                      Myynti alkaa {timeUntilSales(event.product.timeUntilSalesStart)} kuluttua.\r\n                  </Typography>\r\n              </Card>\r\n          }\r\n        <CardActions>\r\n        <Button size=\"small\" sx={{color:'#2a0062', marginTop:'10px'}} endIcon={<ArrowForwardIcon />} href={`https://kide.app/events/${event.product.id}`}>\r\n          Tapahtuman sivulle\r\n        </Button>\r\n        </CardActions>\r\n      </Card>\r\n  );\r\n}\r\n\r\nexport default EventInfo","import './App.css';\nimport { useState, useEffect } from 'react'\nimport Navbar from './components/Navbar';\nimport CityMenu from './components/CityMenu';\nimport EventMenu from './components/EventMenu';\nimport TokenInput from './components/TokenInput';\nimport fetch from './services/fetch';\nimport BuyButton from './components/BuyButton';\nimport Card from '@mui/material/Card';\nimport LoginForm from './components/LoginForm';\nimport Notification from './components/Notification';\nimport EventInfo from './components/EventInfo';\n\nconst App = () => {\n\n  const [city, setCity] = useState('')\n  const [event, setEvent] = useState('')\n  const [token, setToken] = useState('')\n  const [eventInfo, setEventInfo] = useState(null)\n  const [events, setEvents] = useState([])\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n  const [user, setUser] = useState(null)\n  const [openErrorNotification, setOpenErrorNotification] = useState(false)\n  const [openMessageNotification, setOpenMessageNotification] = useState(false)\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedStonkuser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      fetch.setToken(user.token)\n    }\n  }, [])\n\n  if (user === null){\n    return (\n      <LoginForm \n        setMessage={setMessage} \n        setError={setError} \n        setOpenMessageNotification={setOpenMessageNotification} \n        setOpenErrorNotification={setOpenErrorNotification}\n        setUser={setUser}\n      />\n    )\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Notification message={message} \n                    error={error} \n                    openErrorNotification={openErrorNotification} \n                    setOpenErrorNotification={setOpenErrorNotification} \n                    openMessageNotification={openMessageNotification} \n                    setOpenMessageNotification={setOpenMessageNotification} \n      />\n      <Navbar setMessage={setMessage} \n              setError={setError} \n              setUser={setUser}\n              setOpenMessageNotification={setOpenMessageNotification} \n              setOpenErrorNotification={setOpenErrorNotification}\n              user={user}\n      />\n      <Card sx={{ width: 400, minHeight: 500, margin: 'auto', outline: 'solid 2px rgb(202,191,216,0.3)'}}>\n            <CityMenu setCity={setCity} \n                      city={city} \n                      setEvents={setEvents}\n            />\n            <EventMenu setEvent={setEvent} \n                       events={events} \n                       event={event} \n                       setEventInfo={setEventInfo}\n            />\n            <TokenInput setToken={setToken}/>\n            <BuyButton event={eventInfo} \n                       setMessage={setMessage} \n                       setError={setError} \n                       setOpenMessageNotification={setOpenMessageNotification} \n                       setOpenErrorNotification={setOpenErrorNotification}\n                       token={token}\n            />\n      </Card>\n      {eventInfo  === null ? \n          <></>\n          :\n          <EventInfo event={eventInfo}/>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n"],"sourceRoot":""}